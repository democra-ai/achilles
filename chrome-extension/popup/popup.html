<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Achilles Vault</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&family=Plus+Jakarta+Sans:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="logo-icon">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
        </svg>
        <span class="logo-text">Achilles Vault</span>
      </div>
      <div class="status" id="status-indicator">
        <span class="status-dot"></span>
        <span class="status-text">Checking...</span>
      </div>
    </header>

    <!-- Main View -->
    <div id="main-view" class="view" style="display: none;">
      <!-- Tab Bar -->
      <div class="tab-bar">
        <button class="tab active" data-tab="vault">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          Vault
        </button>
        <button class="tab" data-tab="detected">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          Detected
          <span class="tab-badge" id="detected-count" style="display:none">0</span>
        </button>
      </div>

      <!-- Vault Tab -->
      <div id="vault-tab" class="tab-content">
        <!-- Project Selector -->
        <div class="section">
          <label class="section-label">Project</label>
          <select id="project-select" class="select">
            <option value="">Select project...</option>
          </select>
        </div>

        <!-- Environment Tabs -->
        <div class="env-tabs" id="env-tabs">
          <button class="env-tab active" data-env="development">Dev</button>
          <button class="env-tab" data-env="staging">Staging</button>
          <button class="env-tab" data-env="production">Prod</button>
        </div>

        <!-- Search -->
        <div class="search-box">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          <input type="text" id="search-input" placeholder="Search secrets..." />
        </div>

        <!-- Secrets List -->
        <div id="secrets-list" class="secrets-list">
          <div class="empty-state">
            <p>Select a project to view secrets</p>
          </div>
        </div>
      </div>

      <!-- Detected Tab -->
      <div id="detected-tab" class="tab-content" style="display:none">
        <div id="detected-list" class="secrets-list">
          <div class="empty-state">
            <p>No secrets detected on this page</p>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer">
        <button id="open-app" class="btn-ghost" title="Open Achilles Vault App">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          <span>Open App</span>
        </button>
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
